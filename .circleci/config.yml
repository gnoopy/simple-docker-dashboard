# Python CircleCI 2.0 configuration file
#
# Check https://circleci.com/docs/2.0/language-python/ for more details
#
version: 2
jobs:
  build_test:
    docker:
      - image: circleci/python:2.7.14
    steps:
      - checkout
      - run:
          name: Install system packages
          command: | 
            sudo apt-get update; sudo apt-get install -y libgtk2.0-dev libgtk-3-dev; 
            sudo apt-get install -y libjpeg-dev libtiff-dev libsdl1.2-dev libgstreamer-plugins-base0.10-dev libgstreamer-plugins-base1.0-dev libnotify-dev freeglut3 freeglut3-dev libsm-dev libwebkitgtk-dev libwebkitgtk-3.0-dev libwebkit2gtk-4.0-dev libxtst-dev
      - run:
          name: Install dependencies
          command: |
            sudo pip install -U -f https://extras.wxpython.org/wxPython4/extras/linux/gtk3/ubuntu-14.04 wxPython
      - run:
          name: Check if ready 
          command: |
            ls -lrt .
            pwd
            python -c "import wx;print(wx.version())"
      - run:
          name: Unit Test
          command: | 
            pwd
            python -m unittest discover -vf tests

#  test:
#    docker:
#      - image: circleci/python:2.7.14
#    steps:
#      - checkout

    
workflows:
  version: 2
  build_and_test:
    jobs:
      - build_test
#      - test
